const heroes = {
  'marco-polo': {
    name: 'Marco Polo',
    matchup: [
      { text: '50/50, kinda skill dependent', type: 'neutral-matchup'}
    ],
    explanation: `This matchup is oddly even and super playable despite being against Marco Polo. At levels 1-3 you should have the advantage, but do be more careful when reaching level 4, especially if he has purify. Trust me when I say that Marco with purify is more annoying than with stun, because if he has stun and he ults on you, you can simply S2 to knock him back, but if he has puri you can't do that, meaning you'll have to most likely waste flash. <br> <br> Also, some Marcos tend to clear small creeps before going to lane, and they can be especially cheeky and clear yours. <strong>You can heavily punish this</strong>. Fast clear first wave and go to the river to check if he is doing yours, if he is he should have just finished it. You are level two and he level one, so he mostly likely can't escape you, meaning you got a kill or wasted a stun/puri. <br> <br> Late game remember to keep your distance as he can one tap you with ult. By the way, I highly recommend building <span class="item-link physical-def" data-item="ominous-premonition">Ominous Premonition</span>. It is super crucial since it will vastly decrease his damage due to two things: The defense it brings and the effect which lowers his attack speed (which affects his dps, so even less damage).`
  },

  'arli': {
    name: 'Gongsun Li (Arli)',
    matchup: [
      { text: 'Unfavorable, super tough matchup', type: 'negative-matchup'}
    ],
    explanation: `This matchup sucks lol. Arli wins pretty much against any ADC and for Luban that is no different, as her S2 can take down both his S1 and S2. Fortunately though, she can't block his enhanced basic attack, so make sure to take advantage off that and try your best to not get on a 1 vs 1 situation since most of the time you will lose. She's your second ban priority, so you shouldn't find her much, but if that is the case, just pray your team is good lol
    `
  },

    'alessio': {
    name: 'Alessio',
    matchup: [
      { text: '50/50, kinda annoying but definitely winnable', type: 'neutral-matchup'}
    ],
    explanation: `The problem is mainly due to his S2, the smoke bomb he throws creates a mist that makes him invisible and pretty much immune to basic attacks. However, you should still be able to outdamage him if you combo correctly and not miss your skills. (Which is kinda hard, considering he flies so much) At late you should outvalue him so just play it safe.
    `
  },

    'agudo': {
    name: 'Agudo',
    matchup: [
      { text: 'Favorable, not too much a problem', type: 'positive-matchup'}
    ],
    explanation: `Recently, she has received another rework which now makes her suitable for the farm lane, and she can be a bit annoying. Fortunately, for Luban it isn't a problem. His enhanced basic attacks pierce and will kill the minions she spawns, and you always outdamage her, especially with <span class="item-link" data-item="boots-of-fortitude">Defense Boots</span> to mitigate he damage you will take. All in all, just a good matchup.
    `
  },

   'aoyin': {
    name: "Ao'yin (Loong)",
    matchup: [
      { text: 'Early game is favorable, but late game is tricky', type: 'neutral-matchup'}
    ],
    explanation: `At early your pretty much dominate with not much trouble, as you always out-trade Ao'yin, especially with <span class="item-link" data-item="boots-of-fortitude">Defense Boots</span>. (I know i glaze these but srsl they are great) In late the game is a bit more complicated, as he will most likely one shot you with his combo if you are not careful. That said, in teamfights you will provide way more just be careful not to feed him early, as the game will get really tough if he is ahead.
    `
  },

   'chano': {
    name: "Chano",
    matchup: [
      { text: 'Early game is favorable, but late game is super hard', type: 'neutral-matchup'}
    ],
    explanation: `Early this matchup is good. Once again you out-damage the enemy and his wolves will get killed by your pierce. <br> <br>
    However, this changes <strong>dramatically</strong> in late, as Chano has one of the strongest late games of any hero in general. Essentially, try to take the lead in early game and end it early. Trust me, you do not want to deal with a late game Chano.
    `
  },

   'consort-yu': {
    name: "Consort Yu ji",
    matchup: [
      { text: '50/50, but leaning more to Luban No.7', type: 'neutral-matchup'}
    ],
    explanation: `Idk, this matchup is just fine I guess. Her S2 can be a little annoying, but you should out-range her so just keeping pokingg and baiting out her S2 for big damage, and try to evade her S1 as much as possible. You do lose a 1v1 level four though so be mindful of that. At late you'll need to be a little careful, as she will do a lot of damage and her ult deals a <strong>90%</strong> slow, pretty much killing any squishy, but you will provide waaaaaay more in teamfights so thats good. Stay back at teamfights, only advance if she wasted her S2.
    `
  },

  'di-renjie': {
    name: "Di Renjie",
    matchup: [
      { text: '50/50, but leaning more towards Di Renjie', type: 'neutral-matchup'}
    ],
    explanation: `Di Renjie my beloved. <br> <br> This is probably the most even matchup imo. As you may have read at the builds section, you <em>can</em> win against him at level one, but it's tough. You'll need to drag him to your minions and hit him as far away as you can to not let his S1 get too much value. Early game is his, and while late game you are better, it's not by much. Here it is gonna be pretty much a skill check to see who is better. 
    `
  },

  'erin': {
    name: "Erin",
    matchup: [
      { text: 'Favorable, depends on what build she does', type: 'positive-matchup'}
    ],
    explanation: `This matchup is aight. If she is doing physical build then you are super chill but if she is doing magical one then that is a bit worrying. I'd recommend building <span class="item-link" data-item="boots-of-resistance">Resistance boots.</span> as her damage and poke is annoying. Do be careful with her ult, as if she has it she can kill you with ease. Other than that, this matchup is easy, just keep your distance
    `
  },

  'fang': {
    name: "Fang",
    matchup: [
      { text: 'Unfavorable, hard matchup in general', type: 'negative-matchup'}
    ],
    explanation: `This matchup sucks mainly because Fang can burst you so easily. This makes it so you'll have to waste flash if he tries to combo you, and if you don't have it you are dead. Keep your distance, don't overextend against him and try to bring the game to late. <br> <br> Early game is super his, and while late game is yours, it is tough to even reach it. Do <span class="item-link" data-item="boots-of-fortitude">Defense Boots</span> for this one btw, to avoid getting bursted.
    `
  },

  'flowborn': {
    name: "Flowborn",
    matchup: [
      { text: 'Slightly unfavorable, but very playable', type: 'negative-matchup'}
    ],
    explanation: `Flowborn can be hard due to their mobility and ultimate, which can cause them to harass you from far away. However, you <em>should</em> be able to win the trade, if you wait for them to waste all their flow. <br> <br> Late game is hard as their ult will one tap you if it hits, so be very wary of that. Try to not stay behind in farm, as it can be very hard to catchup if they are ahead. (I know this is very generic advice, I'ts just that for some heroes it is a struggle to come back in the game)
    `
  },

  'garo': {
    name: "Garo",
    matchup: [
      { text: 'Favorable, Garo kinda sucks lol', type: 'positive-matchup'}
    ],
    explanation: `She loses in lane HARD against Luban No.7, thus giving you more room to snowball. However, she does have more range than you with her S1, but she can't do that forever as it consumes mana, and you always out-damage her in a trade. <br> <br> Even in late game, which is her powerspike isn't an issue, cuz if your team isn't stupid they are going to focus her. If only she was more similar to Tel'annas...
    `
  },

  'hou-yi': {
    name: "Hou Yi",
    matchup: [
      { text: 'Super Favorable early, late game is even', type: 'positive-matchup'}
    ],
    explanation: `Similarly to Garo, Luban No.7 does win lane a lot vs Hou Yi. However, there is a little caveat to this. Hou Yi excels in long trades, so you may actually end up losing a 1 vs 1 interaction purely because his damage ramps up so much. So, just keep pressuring him with your superior range and poking him until you can go for the kill. Also, never commit a poke if it means you are ovextended in your lane, only do that if you have vision of the enemies. <br> <br> In late game Hou Yi becomes a bigger problem, especially his ult, so do try to end the game as fast as possible.
    `
  },

  'huang-zhong': {
    name: "Huang Zhong",
    matchup: [
      { text: 'Neutral matchup, this one really depends', type: 'neutral-matchup'}
    ],
    explanation: `This is a weird one. Admittedly, I haven't matched against many Huang Zhong's, but the few I had, it was either I stomped him or he stomped me <em>(kinky)</em>. Essentially, this one comes down to the early game and who can snowball first. For actual tips, don't try to kill him in the cannon form, (except if he is like, super low) as he receives additional defense so he will take like no damage. You do win in lane, so try to get him low and call your team to help you. <br> <br>
    Late game is even, really depends on who's team is better honestly.
    `
  },

  'lady-sun': {
    name: "Lady Sun",
    matchup: [
      { text: 'Unfavorable, but if you are skilled...', type: 'negative-matchup'}
    ],
    explanation: `This is an all-round kind of bad matchup, she can burst you down with her combo, and her pokes can be super hard to deal with. <br> <br> However, I haven't lost a single game to a Lady Sun recently, despite this bad matchup. "Isn't it because they are super bad Mr. Xeniel???" Yes, but there is another thing. <br> <br> With Luban No.7, you need to master positioning, not a marksman's positioning, but <em>his</em> positioning especifically. When you do that, suddenly the character becomes nuts. I won't give much advice on this, it's just something you will learn naturally. <br> <br> Now, for tips, at level one if she dashes to your direction, punish her with your S1 and basic attack and force a long trade to get her low. Starting at level two you need to be a tad more careful, wait for her to waste her S2 before doing anything. At late game, her burst is very big, but if you stick with the build i recommended in the builds section along with <span class="item-link" data-item="boots-of-fortitude">Defense Boots</span>, you will just enough live one full combo.
    `
  },

  'luara': {
    name: "Luara",
    matchup: [
      { text: 'Favorable (my wife...)', type: 'positive-matchup'}
    ],
    explanation: `Luara is not in a good spot at the moment. There isn't really a part of the game she is like 'woah so op' in. Early game is completely Luban's (You need to be careful of her ult though, her blind is very annoying), and the late game is where her powerspike should be, but if you have a capable mage or at the very least a decent team, she is super easy to neutralize. Hope they buff her soon.
    `
  },

  'meng-ya': {
    name: "Meng Ya",
    matchup: [
      { text: 'Super favorable (my son...)', type: 'positive-matchup'}
    ],
    explanation: `Early game you win, Meng Ya's first skill works that if it hits anyone behind, it does half the damage to the person behind, and he slows down. (both of which I find stupid, Arli is allowed to have thirty dashes but he gets slowed down by using his S1? smh) Essentially, stay behind minions and you will win the trade with little damage taken. At late game his damage gets big, but his range kinda sucks ass so you only die to him if your whole front line dies.
    `
  },

  'shouyue': {
    name: "Baili Shouyue",
    matchup: [
      { text: 'Very unfavorable, hate his ass', type: 'negative-matchup'}
    ],
    explanation: `He is similar to Garo because he also out-ranges you, except he is actually good cause he has a lot of mobility. The early game will be dictated by how many shots he hits. Shouyue pretty much wins against anyone in lane due to his range, especially if he has Mozi support (Shame on you if you do this combo btw). <br> <br> If its 1-2 shots then you are so back, but if he is hitting everything then it is so jover. <br> <br> At late his basic attacks outrange yours and do big damage, so be careful of not getting bursted down too quick. It is playable, just such an annoying laning phase.
    `
  },
}

const generalThreats = {
  'general-threats': {
    name: 'General Threats to Avoid (From most dangerous to least)',
    threats: [
      {
        hero: 'Luna',
        image: 'otherHeroes/Luna-circle.webp',
        severity: 'high',
        reason: 'Disgusting amount of mobility and damage.'
      },
      {
        hero: 'Jing',
        image: 'otherHeroes/Jing-circle.webp',
        severity: 'high',
        reason: 'Also disgunting amount of mobility and damage.'
      },
      {
        hero: 'Feyd',
        image: 'otherHeroes/Feyd-circle.webp',
        severity: 'high',
        reason: 'Disgusting amount of mobility and damage (there is a pattern as you can see).'
      },
      {
        hero: 'Mai Shiranui',
        image: 'otherHeroes/Mai_Shiranui-circle.webp',
        severity: 'high',
        reason: 'gee I wonder.'
      },
      {
        hero: 'Han Xin',
        image: 'otherHeroes/Han_Xin-circle.webp',
        severity: 'medium',
        reason: 'Also disgunting amount of mobility and damage, but he is waaaay more manageable.'
      },
      {
        hero: 'Dian Wei',
        image: 'otherHeroes/Dian_Wei-circle.webp',
        severity: 'medium',
        reason: 'He has a lot of chase potential with his passive, so kinda annoying.'
      },
      {
        hero: 'Shangguan',
        image: 'otherHeroes/Shangguan-circle.webp',
        severity: 'medium',
        reason: 'Also disgunting amount of mobility and damage, but if she does not get strong early you win.'
      },
      {
        hero: 'Allain',
        image: 'otherHeroes/Allain-circle.webp',
        severity: 'medium',
        reason: 'disgunting amount of mobility and damage (waow), but surprisingly playable (idk why it just kinda is).'
      },
      {
        hero: 'Dharma',
        image: 'otherHeroes/Dharma-circle.webp',
        severity: 'medium',
        reason: 'Big burst and stun, if you do the build I recommended he will not kill you though (if he is not doing full damage).'
      },
      {
        hero: 'Lian Po',
        image: 'otherHeroes/Lian_Po-circle.webp',
        severity: 'medium',
        reason: 'A lot of cc and cc immunity, be far away and he will not do much though.'
      },
      {
        hero: 'Zhang Fei',
        image: 'otherHeroes/Zhang_Fei-circle.webp',
        severity: 'low',
        reason: 'A Zhang Fei that can initiate is tough, but those are rare'
      },
      {
        hero: 'Guiguzi',
        image: 'otherHeroes/Guiguzi-circle.webp',
        severity: 'low',
        reason: 'Annoying CC and surprisingly high damage, super rare to find though'
      },
    ],

    explanation: `These are the major threats, anything else is slightly annoying but playable. Those four at the top though are the biggest concerns. For Feyd and Jing, build <span class="item-link physical-def" data-item="ominous-premonition">Ominous Premonition</span> and for Luna and Mai you should build <span class="item-link magical-def" data-item="succubus-cloak">Succubus Cloak</span>, preferably as the fourth item.
    `
  },
}


const matchupExplanation = document.querySelector('.matchup-explanation');

document.querySelectorAll('.matchup-link').forEach((link) => {
  link.addEventListener('click', function(event) {
    const heroId = event.currentTarget.getAttribute('data-hero');
    
    if (heroId === 'general-threats') {
      showGeneralThreats();
    } else {
      showHeroExplanation(heroId);
    }
  });
});

function showHeroExplanation (heroId) {
  const heroData = heroes[heroId];

  if (!heroData) return; 
  
  const matchupHTML = heroData.matchup.map(
   matchup => `
    <div class="matchup-summary ${matchup.type}">${matchup.text}</div>
   `
  ).join('');

  matchupExplanation.innerHTML = `
  <div class="matchup-header">
    <div class="hero-name">${heroData.name}</div>
    ${matchupHTML}
  </div>
  <div class="explanation-text">${heroData.explanation}</div>
  `
}

function showGeneralThreats () {
  const threatsData = generalThreats['general-threats'];

  const threatsHTML = threatsData.threats.map(threat => `
    <div class="threat-item ${threat.severity}">
      <img src="${threat.image}" alt="${threat.hero}" class="threat-image">
      <div class="threat-info"
        <div class="threat-name">${threat.hero}</div>
        <div class="threat-reason">${threat.reason}</div>
    </div>    
    `
  ).join('');
  
  matchupExplanation.innerHTML = `
  <div class="threats-header"
    <div class="hero-name">${threatsData.name}
  </div>
  <div class="threats-list">
    ${threatsHTML}
  </div>
  <div class="explanation-text">${threatsData.explanation}</div> 
  `
}